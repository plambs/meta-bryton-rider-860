header:
    version: 11
distro: poky
build_system: oe
machine: raspberrypi4-64
target: core-image-bryton-rider-860

repos:
    meta-bryton-rider-860:

    poky:
        url: "git://git.yoctoproject.org/poky"
        refspec: "d64bef1c7d713b92a51228e5ade945835e5a94a4"
        path: "layers/poky"
        layers:
            meta:
            meta-poky:

    meta-openembedded:
        url: "https://github.com/openembedded/meta-openembedded.git"
        refspec: "05dcac98473402d87e0af73bbc2c5a6a840abe93"
        path: "layers/meta-openembedded"
        layers:
            meta-oe:
            meta-filesystems:
            meta-initramfs:
            meta-networking:
            meta-multimedia:
            meta-python:

    meta-raspi:
        url: "https://github.com/agherzan/meta-raspberrypi.git"
        refspec: "dacad9302a92b0b7edf8546cdcad1f8ef753e462"
        path: "layers/meta-raspberrypi"

local_conf_header:
  meta-bryton-rider-860: |
    DISTRO_FEATURES:append = " pam wayland x11 hwcodecs"
    # Enable systemd
    DISTRO_FEATURES:append = " systemd"
    DISTRO_FEATURES_BACKFILL_CONSIDERED += "sysvinit"
    VIRTUAL-RUNTIME_init_manager = "systemd"
    VIRTUAL-RUNTIME_initscripts = "systemd-compat-units"
    # Enable RPI debug uart output
    ENABLE_UART = "1"
